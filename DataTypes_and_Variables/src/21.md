# Как работает автоматическая упаковка и распаковка (autoboxing & unboxing) в Java?

Автоматическая упаковка (autoboxing) и распаковка (unboxing) в Java — это процесс, в ходе которого примитивные типы данных автоматически преобразуются в их соответствующие объектные обёртки и обратно. Это позволяет разработчикам работать с примитивными типами и объектами обёрток более удобно, без необходимости явного преобразования.

В Java для примитивных типов данных имеются соответствующие классы-обёртки:
- `boolean` — `Boolean`
- `byte` — `Byte`
- `char` — `Character`
- `short` — `Short`
- `int` — `Integer`
- `long` — `Long`
- `float` — `Float`
- `double` — `Double`

### Автоматическая упаковка (Autoboxing)
Автоматическая упаковка происходит, когда примитивный тип автоматически преобразуется в его соответствующий объектный тип. Это упрощает использование коллекций Java (например, `ArrayList`), которые работают только с объектами.

**Пример:**
```java
int i = 10;
Integer intObject = i; // Автоматическая упаковка
```

### Автоматическая распаковка (Unboxing)
Автоматическая распаковка происходит, когда объект-обёртка автоматически преобразуется в примитивный тип. Это упрощает операции между примитивными типами и объектами обёртками.

**Пример:**
```java
Integer intObject = 10; // Автоматическая упаковка
int i = intObject; // Автоматическая распаковка
```

### Примеры использования

**Пример 1: Использование с коллекциями**
```java
List<Integer> list = new ArrayList<>();
list.add(10); // Автоматическая упаковка
int num = list.get(0); // Автоматическая распаковка
```

**Пример 2: Упаковка и распаковка в выражениях**
```java
Integer a = 100; // Автоматическая упаковка
int b = a + 200; // Автоматическая распаковка `a`, сложение, и результирующий int присваивается переменной `b`
```

### Важные замечания

1. **Производительность**:
   Автоматическая упаковка и распаковка могут вносить дополнительную нагрузку на производительность, особенно в циклах и местах, где происходит частое преобразование.

2. **NullPointerException**:
   Во время распаковки может произойти `NullPointerException`, если объект-обёртка равен `null`:
   ```java
   Integer intObject = null;
   int i = intObject; // Бросит NullPointerException
   ```

3. **Кэширование обёрток**:
   Классы-обёртки для некоторых значений используют кэширование. Например, значения `Integer` в диапазоне от -128 до 127 кэшируются, и при использовании этих значений возвращаются одни и те же объекты.

Автоматическая упаковка и распаковка делают код более лаконичным и читаемым, снижая необходимость явного преобразования типов, что упрощает разработку.