# Что такое статические блоки и когда они вызываются? +

### Статические блоки в Java

Статические блоки в Java (static blocks) используются для инициализации статических переменных или выполнения других действий, которые необходимо выполнить один раз при загрузке класса. Они также известны как статические инициализаторы.

### Синтаксис

Статический блок объявляется с использованием ключевого слова `static`, за которым следует блок кода в фигурных скобках.

```java
public class MyClass {
    static {
        // Код инициализации
    }
}
```

### Когда вызываются статические блоки

Статические блоки выполняются при загрузке класса в JVM (Java Virtual Machine) перед выполнением любого другого кода в классе, включая конструкторы и любые статические методы. Это означает, что статические блоки вызываются один раз и только один раз, когда класс загружается в память.

### Примеры использования

1. **Инициализация статических переменных**:
   Статические блоки часто используются для сложной инициализации статических переменных, которые невозможно инициализировать простым присваиванием.

   ```java
   public class Configuration {
       static String config;

       static {
           // Инициализация статической переменной
           config = "Default Configuration";
           // Более сложная инициализация может включать чтение из файла или базы данных
       }
   }
   ```

2. **Выполнение одноразовых действий**:
   Статические блоки могут использоваться для выполнения действий, которые нужно сделать один раз при загрузке класса, например, регистрация драйверов или инициализация подключений.

   ```java
   public class DatabaseDriver {
       static {
           // Регистрация драйвера базы данных
           try {
               Class.forName("com.mysql.jdbc.Driver");
           } catch (ClassNotFoundException e) {
               e.printStackTrace();
           }
       }
   }
   ```

### Пример

Рассмотрим более полный пример с объяснением:

```java
public class Example {
    static int value;
    static List<String> list;

    // Статический блок инициализации
    static {
        // Инициализация статической переменной
        value = 42;

        // Инициализация статического списка
        list = new ArrayList<>();
        list.add("One");
        list.add("Two");
        list.add("Three");

        System.out.println("Статический блок выполнен");
    }

    // Статический метод для вывода значений
    public static void printValues() {
        System.out.println("Value: " + value);
        System.out.println("List: " + list);
    }

    public static void main(String[] args) {
        // Вызываем статический метод
        Example.printValues();
    }
}
```

В этом примере:

1. Статический блок инициализирует статическую переменную `value` и статический список `list`.
2. При загрузке класса `Example` JVM выполнит статический блок, инициализируя переменные и выводя "Статический блок выполнен".
3. Затем метод `main` вызовет статический метод `printValues`, который выведет значения переменных.

### Заключение

Статические блоки в Java полезны для выполнения инициализации, которая должна произойти один раз при загрузке класса. Они обеспечивают гибкость и позволяют выполнять сложную инициализацию статических переменных, регистрировать драйверы и выполнять другие одноразовые действия.