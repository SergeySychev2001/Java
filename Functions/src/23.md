# Что произойдет, если в функции использовать переменную, объявленную вне её тела?

В Java, если в функции используется переменная, объявленная вне её тела, то это допустимо и имеет несколько важных аспектов, которые нужно учитывать:

1. **Поле класса (глобальная переменная)**:
   Если переменная объявлена в классе (как поле класса) и используется внутри метода этого же класса, то метод сможет к ней обращаться. Это считается нормальной практикой, и такая переменная будет доступна всем методам класса. Пример:

   ```java
   public class MyClass {
       private int globalVar = 10; // Поле класса

       public void myMethod() {
           System.out.println(globalVar); // Использование поля класса
       }
   }
   ```

2. **Локальная переменная метода**:
   Если переменная объявлена в методе (локальная переменная), она будет доступна только в пределах этого метода. Внешние методы не смогут к ней обращаться. Пример:

   ```java
   public class MyClass {
       public void methodA() {
           int localVar = 10; // Локальная переменная метода
           System.out.println(localVar);
       }

       public void methodB() {
           // System.out.println(localVar); // Ошибка: localVar тут недоступна
       }
   }
   ```

3. **Закрытие (closure) внутри вложенных классов и лямбд**:
   Если у вас есть вложенный класс или лямбда-выражение, они могут использовать только эффективно финальные локальные переменные (переменные, которые не изменяются) из внешнего метода. Пример:

   ```java
   public class MyClass {
       public void methodA() {
           final int localVar = 10; // локальная переменная, 'final' или 'эффективно финальная'
           Runnable r = new Runnable() {
               public void run() {
                   System.out.println(localVar); // Использование локальной переменной
               }
           };
           new Thread(r).start();
       }
   }
   ```

4. **Переменная из внешнего блока**:
   Если переменная объявлена в другом блоке кода (например, в цикле или в операторе `if`), она не будет доступна вне этого блока. Пример:

   ```java
   public class MyClass {
       public void myMethod() {
           if (true) {
               int blockVar = 10; // локальная переменная блока
               System.out.println(blockVar);
           }
           // System.out.println(blockVar); // Ошибка: blockVar тут недоступна
       }
   }
   ```

Таким образом, доступ к переменной из функции зависит от области видимости и контекста, в котором эта переменная была объявлена. Если нарушить правила области видимости, это приведет к ошибкам компиляции.